(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"2fd9":function(t,a,e){"use strict";e("daa9")},"6c2c":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"flex q-ma-md full-widht",attrs:{flat:""}},[e("div",{staticClass:"flex justify-start"},[e("div",{staticClass:"flex q-ma-md"},[e("q-btn",{staticClass:"bg-cyan-8 text-white",attrs:{label:"Adicionar Nova"},on:{click:function(a){t.addCategoryModal=!0}}})],1)]),e("q-item-label",{attrs:{header:""}},[t._v("Categorias cadastradas")]),1==t.noData?e("q-list",{staticClass:"rounded-borders",staticStyle:{width:"100%"},attrs:{bordered:"",padding:""}},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[e("q-item-section",[e("q-item-label",{attrs:{lines:"1"}},[t._v(t._s("Não existe categoria cadastrada"))])],1)],1)],1):t._e(),t._l(t.category,(function(a){return e("q-list",{key:a.id,staticClass:"rounded-borders",staticStyle:{width:"100%"},attrs:{bordered:"",padding:""}},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[e("q-item-section",[e("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(a.name))])],1),e("q-item-section",{attrs:{side:""}},[1==a.isActive?e("q-badge",{attrs:{rounded:"",color:"green",label:"Ativo"}}):e("q-badge",{attrs:{rounded:"",color:"red",label:"Inativo"}})],1),e("q-item-section",{attrs:{side:""}},[e("div",{staticClass:"text-grey-8 q-gutter-xs"},[e("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(e){return t.deleteCategory(a)}}}),e("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"edit"},on:{click:function(e){return t.editCategory(a)}}}),e("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"more_vert"}})],1)])],1)],1)})),e("q-dialog",{attrs:{persistent:""},model:{value:t.addCategoryModal,callback:function(a){t.addCategoryModal=a},expression:"addCategoryModal"}},[e("q-card",{staticStyle:{width:"350px"}},[e("q-card-section",{},[e("q-input",{attrs:{outlined:"",label:"Nome da Categoria"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}}),e("div",{staticClass:"q-ma-sm flex justify-start"},[e("q-toggle",{staticClass:"q-mr-md flex",attrs:{label:"Status"},model:{value:t.status,callback:function(a){t.status=a},expression:"status"}}),e("div",{staticClass:"flex q-mt-md"},[0==t.status?e("q-badge",{staticStyle:{height:"max-content"},attrs:{rounded:"",color:"red",label:"Inativo"}}):e("q-badge",{staticStyle:{height:"max-content"},attrs:{rounded:"",color:"green",label:"Ativo"}})],1)],1)],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}}),e("q-btn",{attrs:{flat:"",label:"Salvar",color:"primary"},on:{click:function(a){return t.saveCategory(t.name,t.status)}}})],1)],1)],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.editCategoryModal,callback:function(a){t.editCategoryModal=a},expression:"editCategoryModal"}},[e("q-card",{staticStyle:{width:"350px"}},[e("q-card-section",{},[e("q-input",{attrs:{outlined:"",label:"Nome da Categoria"},model:{value:t.payload.name,callback:function(a){t.$set(t.payload,"name",a)},expression:"payload.name"}}),e("div",{staticClass:"q-ma-sm flex justify-start"},[e("q-toggle",{staticClass:"q-mr-md flex",attrs:{label:"Status"},model:{value:t.status,callback:function(a){t.status=a},expression:"status"}}),e("div",{staticClass:"flex q-mt-md"},[0==t.payload.isActive?e("q-badge",{staticStyle:{height:"max-content"},attrs:{rounded:"",color:"red",label:"Inativo"}}):e("q-badge",{staticStyle:{height:"max-content"},attrs:{rounded:"",color:"green",label:"Ativo"}})],1)],1)],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}}),e("q-btn",{attrs:{flat:"",label:"Atualizar",color:"primary"},on:{click:function(a){return t.updateCategory(t.payload,t.status)}}})],1)],1)],1)],2)},s=[],i=(e("b0c0"),e("159b"),e("69b1")),l=(e("436b"),{name:"PageCategory",data:function(){return{editCategoryModal:!1,addCategoryModal:!1,category:[],name:"",status:!0,payload:{},noData:!1}},methods:{editCategory:function(t){this.editCategoryModal=!0,this.name=t.name,this.status=t.isActive,this.payload=t},updateCategory:function(t,a){var e=this;this.payload=t,this.payload.isActive=a,console.log(this.payload),Object(i["u"])(this.payload.id,this.payload).then((function(t){console.log(t),e.editCategoryModal=!1}))},getCategory:function(){var t=this;Object(i["l"])().then((function(a){"No data found"===a?(t.noData=!0,console.log(t.noData)):(t.noData=!1,a.forEach((function(a){t.category.push(a)}))),console.log(t.noData)}))},deleteCategory:function(t){var a=this;this.$q.dialog({title:"Delete",message:"Tem certeza que deseja remover essa categoria?"}).onOk((function(){Object(i["f"])(t.id).then((function(t){a.editCategoryModal=!1,"ok"==t&&(a.editCategoryModal=!1,a.category=[],a.getCategory())})).catch((function(t){500==t.response.status&&a.$q.dialog({title:"Categoria em Uso",message:"Não é possível remover uma categoria que esteja em uso"}).onOk((function(){})),console.log(t.response.status)}))})).onCancel((function(){})).onDismiss((function(){}))},saveCategory:function(t,a){var e=this;console.log(t),console.log(a),this.payload={name:t,isActive:a},Object(i["b"])(this.payload).then((function(t){console.log(t),"ok"==t&&(e.addCategoryModal=!1,e.category=[],e.getCategory())}))}},mounted:function(){this.getCategory()}}),n=l,r=(e("2fd9"),e("2877")),c=e("f09f"),d=e("9c40"),u=e("0170"),g=e("1c1c"),m=e("66e5"),p=e("4074"),f=e("068f"),y=e("58a81"),b=e("24e8"),C=e("a370"),q=e("27f9"),v=e("9564"),h=e("4b7e"),x=e("714f"),k=e("7f67"),w=e("eebe"),M=e.n(w),Q=Object(r["a"])(n,o,s,!1,null,"d656a31c",null);a["default"]=Q.exports;M()(Q,"components",{QCard:c["a"],QBtn:d["a"],QItemLabel:u["a"],QList:g["a"],QItem:m["a"],QItemSection:p["a"],QImg:f["a"],QBadge:y["a"],QDialog:b["a"],QCardSection:C["a"],QInput:q["a"],QToggle:v["a"],QCardActions:h["a"]}),M()(Q,"directives",{Ripple:x["a"],ClosePopup:k["a"]})},daa9:function(t,a,e){}}]);