(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{4012:function(t,e,n){},"586d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex flex-center"},[n("div",{staticStyle:{padding:"50px",width:"500px"}},[n("div",{staticClass:"q-mb-md text-subtitle1",staticStyle:{"text-align":"center"}},[t._v("\n      "+t._s("Selecione uma Emissora")+"\n    ")]),n("div",{staticClass:"scroll-list",attrs:{id:"style-4"}},[n("q-list",{staticClass:"rounded-borders",attrs:{dense:"",bordered:"",padding:""}},t._l(t.lstStations,(function(e,a){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{clickable:"",station:e},nativeOn:{click:function(n){return t.selectStation(e)}}},[n("q-item-section",[n("q-item-label",[t._v(t._s(e.stationName))])],1),n("q-item-section",{attrs:{avatar:""}},[""!==e.remainingDays&&e.remainingDays>0&&!e.isSubscriber?n("q-icon",{attrs:{color:"grey",name:"error_outline"}}):t._e(),""!==e.remainingDays&&e.remainingDays<=0&&!e.isSubscriber?n("q-icon",{attrs:{name:"error_outline",color:"negative"}}):t._e(),""!==e.remainingDays&&e.remainingDays>=15&&!e.isSubscriber?n("q-tooltip",{staticClass:"flex text-center"},[t._v("\n              "+t._s("Assinatura Trial")+"\n            ")]):t._e(),""!==e.remainingDays&&e.remainingDays>0&&e.remainingDays<15&&!e.isSubscriber?n("q-tooltip",{staticClass:"flex text-center"},[n("div",[t._v(t._s("Irá expirar em "))]),n("div",[t._v(t._s(t.formatDate(e.expire)))])]):t._e(),""!==e.remainingDays&&e.remainingDays<=0&&!e.isSubscriber?n("q-tooltip",{staticClass:"flex text-center"},[n("div",[t._v(t._s("Expirado em "))]),n("div",[t._v(t._s(t.formatDate(e.expire)))])]):t._e()],1)],1)})),1)],1),t.showCreateInstance?n("q-btn",{staticClass:"full-width q-mt-md",attrs:{dense:"",color:"teal-8",label:t.$t("myaccount.create_station")},on:{click:t.createInstance}}):t._e()],1)])},o=[],s=n("ded3"),i=n.n(s),r=(n("b0c0"),n("4de4"),n("159b"),n("f508")),c=n("95a0"),l=n("2f62"),u=n("a002"),m=n.n(u),g=n("69b1"),h=n("7f45"),d={name:"PageStations",data:function(){return{lstStations:[],lang:"",showCreateInstance:!1,haveStation:!1}},computed:i()({},Object(l["c"])({timezone:"timezone",currentStation:"selectedStation",currentLanguage:"currentLanguage"})),methods:i()(i()({},Object(l["b"])({set_timezone:"setTimezone",set_language:"setLanguage",set_station:"setStation",set_station_list:"setStationList"})),{},{gotoLogin:function(){sessionStorage.clear(),this.$router.push({name:"login"})},isStationValid:function(t){return!(""!==t.remainingDays&&t.remainingDays<=0&&!t.isSubscriber)},createStation:function(t){var e=this,n={name:t.name,token:t.stationId,pasPackCode:"54160",customerId:t.customerId};Object(g["q"])(n).then((function(n){console.log(n),e.proceedSelect(t)}))},checkExistStation:function(t){var e=this;Object(g["p"])(t.stationId).then((function(n){"404"==n?e.createStation(t):e.proceedSelect(t)}))},proceedSelect:function(t){var e=this;this.isStationValid(t)?(this.set_station_list(this.lstStations).then((function(){})).catch((function(t){return console.log(t)})),m.a.setItem("APP_STATION_LIST",this.lstStations),this.set_station(t).then((function(){e.callSetTimezone(),r["a"].hide()})).catch((function(t){return console.log(t)})),sessionStorage.setItem("stationId",t.stationId),m.a.setItem("APP_SELECTED_STATION",t)):this.$q.dialog({title:"Seu período de teste acabou",message:"Continue utilizando tudo que nossa aplicação tem a oferecer. Faça agora sua assinatura!",class:"separate-btn-dialog",cancel:{label:"Sair",outline:!0,color:"grey","no-caps":!0},ok:{label:"Acessar Loja","no-caps":!0,color:"teal"},persistent:!0}).onOk((function(){window.open("https://store.playlistsolutions.com/playliststore","_label")})).onCancel((function(){console.log(">>>> Cancel")}))},selectStation:function(t){var e=t;console.log(e),this.checkExistStation(e)},callSetTimezone:function(){var t=this,e={TimeZoneId:this.timezone,StationId:this.currentStation.stationId};r["a"].show(),Object(c["e"])(e).then((function(e){console.log("loaded server"),t.$router.push({name:"operators"})})).catch((function(e){console.log("error loading server"),console.log(e),console.log(e.message),t.$router.push({name:"new"})}))},getInstances:function(){var t=this;t.lstStations=[],t.showCreateInstance=!1,r["a"].show(),Object(c["c"])().then((function(e){r["a"].hide(),e.length>0?(t.showInstances=!0,0===e.filter((function(t){return!0===t.proprietary})).length&&(t.showCreateInstance=!0),e.forEach((function(e){e.stations.forEach((function(n){var a=i()(i()(i()({},e),n),{},{stationId:n.id,stationName:n.name});t.lstStations.push(a),console.log(t.lstStations)}))}))):t.showCreateInstance=!0})).catch((function(t){r["a"].hide(),console.log(t),console.log(t.message)}))},get_timezone:function(){var t=h.tz.guess();this.set_timezone(t).then((function(){})).catch((function(t){return console.log(t)})),console.log(this.timezone)},createInstance:function(){var t=this;r["a"].show(),Object(c["a"])().then((function(e){r["a"].hide(),t.getInstances()})).catch((function(t){r["a"].hide(),console.log(t),console.log(t.message)}))},formatDate:function(t){var e,n=new Date(t),a=n.getFullYear(),o=n.getMonth()+1,s=n.getDate(),i=this.currentLanguage,r=this.getMonths(i);return s<10&&(s="0"+s),o<10&&(o="0"+o),"pt-br"===i&&(e=s+"/"+o+"/"+a),"es"===i&&(e=s+"/"+o+"/"+a),"en-us"===i&&(e=r[parseInt(o)-1]+", "+s+" of "+a),e},getMonths:function(t){var e=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return"pt-br"===t?e:"en-us"===t?n:"es"===t?a:void 0},getHoursEn:function(t){return 0===t?"12":13===t?"1":14===t?"2":15===t?"3":16===t?"4":17===t?"5":18===t?"6":19===t?"7":20===t?"8":21===t?"9":22===t?"10":23===t?"11":24===t?"12":t}}),created:function(){console.clear(),this.get_timezone(),this.getInstances()}},f=d,b=(n("c6c8"),n("2877")),p=n("9989"),S=n("1c1c"),_=n("66e5"),v=n("4074"),I=n("0170"),y=n("0016"),w=n("05c0"),D=n("9c40"),x=n("f09f"),C=n("714f"),q=n("eebe"),z=n.n(q),O=Object(b["a"])(f,a,o,!1,null,null,null);e["default"]=O.exports;z()(O,"components",{QPage:p["a"],QList:S["a"],QItem:_["a"],QItemSection:v["a"],QItemLabel:I["a"],QIcon:y["a"],QTooltip:w["a"],QBtn:D["a"],QCard:x["a"]}),z()(O,"directives",{Ripple:C["a"]})},c6c8:function(t,e,n){"use strict";n("4012")}}]);